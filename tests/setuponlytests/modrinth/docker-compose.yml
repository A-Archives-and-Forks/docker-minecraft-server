services:
  mc:
    image: ${IMAGE_TO_TEST:-itzg/minecraft-server}
    environment:
      EULA: "true"
      SETUP_ONLY: "true"
      TYPE: FABRIC
      VERSION: 1.21.4
      MODRINTH_PROJECTS: fabric-api,cloth-config
      # Troubleshoot reactor.netty.http.client.PrematureCloseException: Connection prematurely closed DURING response
      FETCH_CONNECTION_POOL_MAX_IDLE_TIMEOUT: PT2S
    volumes:
      - ./data:/data
